Last updated: 2025-12-19

# Project Overview

## プロジェクト概要
- YM2151シンセサイザーのイベントログを、ターミナル上で直感的に編集できるRust製TUIエディタです。
- イベントデータの可視化、KeyON表示、時刻表示モード切り替えなどの機能を提供し、タイミング調整やイベント検査を支援します。
- JSON形式のイベントログファイルの読み込みと保存に対応し、YM2151のイベントシーケンスを効率的に管理できます。

## 技術スタック
- フロントエンド:
    - **ratatui 0.29**: 高度なターミナルユーザーインターフェース (TUI) を構築するためのRustフレームワークです。これにより、本プロジェクトはターミナル上でリッチなGUIライクな操作感を実現しています。
    - **crossterm 0.29**: ターミナルバックエンドとして機能し、キーボード入力、カーソル操作、画面クリアなど、ターミナルとの低レベルな対話を可能にします。
- 音楽・オーディオ:
    - **YM2151**: ヤマハのFM音源チップの名前であり、このエディタが扱うイベントログの対象です。直接的なオーディオ処理技術ではありませんが、音楽イベントデータの文脈で重要な要素です。
- 開発ツール:
    - **Rust**: 高性能、安全性、並行性を重視したシステムプログラミング言語です。本プロジェクトの主要な実装言語であり、信頼性の高いアプリケーション開発を支えています。
- テスト: (プロジェクト情報から特定のテストフレームワークは特定できませんでしたが、Rustの標準テスト機能が利用されています)
- ビルドツール:
    - **cargo**: Rustの公式パッケージマネージャー兼ビルドシステムです。プロジェクトの依存関係の管理、ビルド、テスト、ドキュメント生成など、開発サイクル全体をサポートします。
- 言語機能:
    - **Rust 1.70以降**: 高度な型システムと所有権システムにより、メモリ安全性と実行時性能を保証します。このプロジェクトでは、最新のRust言語機能を利用しています。
- 自動化・CI/CD: (プロジェクト情報から特定の自動化・CI/CDツールは特定できませんでした)
- 開発標準:
    - **serde 1.0**: Rustのシリアライゼーション/デシリアライゼーションフレームワークです。様々なデータ形式（JSON、YAMLなど）との間でRustのデータ構造を変換するために使用されます。
    - **serde_json 1.0**: `serde`フレームワークのJSON形式専用の実装です。YM2151イベントログのJSONファイルの読み書きに利用されます。

## ファイル階層ツリー
```
.gitignore
Cargo.lock
Cargo.toml
IMPLEMENTATION_PLAN.md
LICENSE
README.ja.md
README.md
generated-docs/
googled947dc864c270e07.html
issue-notes/
  19.md
  20.md
  21.md
src/
  app.rs
  event_editor.rs
  file_io.rs
  main.rs
  models.rs
  navigation.rs
  preview.rs
  tests/
    app_tests.rs
    mod.rs
  time_display.rs
  ui.rs
test_data/
  minimal.json
  sample.json
```

## ファイル詳細説明
- **`Cargo.toml`**: Rustプロジェクトの構成ファイルで、プロジェクト名、バージョン、依存関係、ビルド設定などを定義します。
- **`Cargo.lock`**: `Cargo.toml`に記述された依存関係の正確なバージョンとその依存ツリーを記録し、再現可能なビルドを保証します。
- **`.gitignore`**: Gitがバージョン管理の対象としないファイルやディレクトリのパターンを定義します。
- **`LICENSE`**: プロジェクトの配布条件とライセンス情報を記載しています。
- **`README.md` / `README.ja.md`**: プロジェクトの概要、インストール方法、使用方法、機能、キーバインドなどを説明する英語および日本語のドキュメントです。
- **`IMPLEMENTATION_PLAN.md`**: 実装計画や今後のロードマップに関する開発者向けのドキュメントです。
- **`googled947dc864c270e07.html`**: Google Search Consoleなどのウェブサイト所有権確認に使用されるファイルです。
- **`generated-docs/`**: ドキュメント生成ツールによって生成されたドキュメントが格納されるディレクトリです。
- **`issue-notes/`**: 開発中に発生した特定の課題や検討事項に関するメモが格納されているディレクトリです。
    - **`issue-notes/19.md`, `issue-notes/20.md`, `issue-notes/21.md`**: 個別の課題に関する詳細なノートファイルです。
- **`src/`**: Rustのソースコードが格納されているディレクトリです。
    - **`src/main.rs`**: アプリケーションのエントリーポイントであり、メインのイベントループと初期設定を担当します。
    - **`src/app.rs`**: アプリケーションの全体的な状態（state）と、イベント処理、データ更新などの主要なロジックを管理します。
    - **`src/models.rs`**: YM2151イベントやイベントログなど、アプリケーションで扱うデータ構造（例: `Ym2151Event`, `Ym2151Log`）を定義します。
    - **`src/ui.rs`**: ターミナルUIの描画ロジックを担当し、アプリケーションの状態に基づいて画面を構築します。
    - **`src/event_editor.rs`**: YM2151イベントの挿入や削除といった編集操作に関するロジックをカプセル化しています。
    - **`src/file_io.rs`**: YM2151イベントログのJSONファイルの読み込みおよび保存機能を提供します。
    - **`src/navigation.rs`**: ターミナルUI上でのイベント間の移動（カーソル移動）や、表示範囲の調整などのナビゲーションロジックを扱います。
    - **`src/preview.rs`**: YM2151イベントシーケンスの部分的なプレビュー再生機能に関連するロジックを管理します。
    - **`src/time_display.rs`**: 累積時間モードと絶対タイムスタンプモードの切り替え、およびその表示フォーマットに関するロジックを扱います。
    - **`src/tests/`**: アプリケーションの単体テストや統合テストが格納されているディレクトリです。
        - **`src/tests/app_tests.rs`**: `app.rs`で定義されたロジックに対するテストコードを含みます。
        - **`src/tests/mod.rs`**: `src/tests`モジュールのルートファイルで、テストモジュールの構造を定義します。
- **`test_data/`**: アプリケーションのテストに使用されるサンプルJSONデータファイルが格納されているディレクトリです。
    - **`test_data/minimal.json`**: 最小限のイベントデータを含むテストファイルです。
    - **`test_data/sample.json`**: より広範なイベントデータを含むサンプルテストファイルです。

## 関数詳細説明
情報が提供されていないため、詳細な関数説明はできません。

## 関数呼び出し階層ツリー
```
関数呼び出し階層を分析できませんでした

---
Generated at: 2025-12-19 07:04:44 JST
